<!DOCTYPE html>
<html lang="mn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>X O - Pro Match Edition</title>
    <style>
        :root {
            --bg-color: #0f172a;
            --cell-color: #1e293b;
            --x-color: #38bdf8;
            --o-color: #f472b6;
            --win-color: #22c55e;
            --accent: #6366f1;
        }

        body {
            background-color: var(--bg-color);
            color: white;
            font-family: 'Inter', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }

        .game-container { text-align: center; }

        /* –û–Ω–æ–æ–Ω—ã —Å–∞–º–±–∞—Ä */
        .scoreboard {
            display: flex;
            justify-content: space-around;
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 15px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .score-box { font-size: 1.2rem; font-weight: bold; }
        .score-val { font-size: 2rem; display: block; }
        .x-score { color: var(--x-color); }
        .o-score { color: var(--o-color); }

        .status {
            font-size: 1.3rem;
            margin-bottom: 15px;
            height: 30px;
            font-weight: 300;
        }

        .board {
            display: grid;
            grid-template-columns: repeat(3, 100px);
            grid-template-rows: repeat(3, 100px);
            gap: 12px;
            margin-bottom: 20px;
        }

        .cell {
            width: 100px;
            height: 100px;
            background: var(--cell-color);
            border-radius: 12px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 3rem;
            font-weight: 800;
            cursor: pointer;
            transition: 0.2s;
        }

        .cell:hover { transform: scale(1.02); background: #334155; }
        .cell.x { color: var(--x-color); }
        .cell.o { color: var(--o-color); }

        .cell.winner {
            background: var(--win-color);
            color: white;
            box-shadow: 0 0 20px var(--win-color);
        }

        .btn-group { display: flex; gap: 10px; justify-content: center; }

        button {
            padding: 12px 24px;
            font-size: 1rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: 0.3s;
        }

        .reset-round { background: #475569; color: white; }
        .reset-all { background: var(--accent); color: white; }
        button:hover { opacity: 0.9; transform: translateY(-2px); }
    </style>
</head>
<body>

    <div class="game-container">
        <h1>X <span style="color:var(--accent)">VS</span> O</h1>

        <div class="scoreboard">
            <div class="score-box x-score">
                X –¢–æ–≥–ª–æ–≥—á
                <span id="xScoreVal" class="score-val">0</span>
            </div>
            <div class="score-box">
                –ó–æ—Ä–∏–ª–≥–æ
                <span class="score-val">3</span>
            </div>
            <div class="score-box o-score">
                O –¢–æ–≥–ª–æ–≥—á
                <span id="oScoreVal" class="score-val">0</span>
            </div>
        </div>

        <div class="status" id="statusText">X-–∏–π–Ω —ç—ç–ª–∂</div>
        
        <div class="board" id="board">
            <div class="cell" data-index="0"></div>
            <div class="cell" data-index="1"></div>
            <div class="cell" data-index="2"></div>
            <div class="cell" data-index="3"></div>
            <div class="cell" data-index="4"></div>
            <div class="cell" data-index="5"></div>
            <div class="cell" data-index="6"></div>
            <div class="cell" data-index="7"></div>
            <div class="cell" data-index="8"></div>
        </div>

        <div class="btn-group">
            <button class="reset-round" onclick="resetRound()">–î–∞—Ä–∞–∞–≥–∏–π–Ω “Ø–µ</button>
            <button class="reset-all" onclick="fullReset()">–¢–æ–≥–ª–æ–æ–º—ã–≥ —à–∏–Ω—ç—á–ª—ç—Ö</button>
        </div>
    </div>

    <script>
        let xScore = 0;
        let oScore = 0;
        let currentPlayer = "X";
        let gameState = ["", "", "", "", "", "", "", "", ""];
        let gameActive = true;

        const cells = document.querySelectorAll('.cell');
        const statusText = document.getElementById('statusText');
        const xScoreDisplay = document.getElementById('xScoreVal');
        const oScoreDisplay = document.getElementById('oScoreVal');

        const winConditions = [
            [0,1,2], [3,4,5], [6,7,8], [0,3,6], 
            [1,4,7], [2,5,8], [0,4,8], [2,4,6]
        ];

        

        cells.forEach(cell => {
            cell.addEventListener('click', () => {
                const index = cell.getAttribute('data-index');
                if (gameState[index] !== "" || !gameActive) return;

                gameState[index] = currentPlayer;
                cell.textContent = currentPlayer;
                cell.classList.add(currentPlayer.toLowerCase());

                checkRoundWinner();
            });
        });

        function checkRoundWinner() {
            let won = false;
            let combo = [];

            for (let cond of winConditions) {
                const [a, b, c] = cond;
                if (gameState[a] && gameState[a] === gameState[b] && gameState[a] === gameState[c]) {
                    won = true;
                    combo = cond;
                    break;
                }
            }

            if (won) {
                statusText.textContent = `${currentPlayer} —ç–Ω—ç “Ø–µ–¥ —Ö–æ–∂–ª–æ–æ!`;
                combo.forEach(i => cells[i].classList.add('winner'));
                updateScore();
                gameActive = false;
                return;
            }

            if (!gameState.includes("")) {
                statusText.textContent = "–¢—ç–Ω—Ü–ª—ç—ç!";
                gameActive = false;
                return;
            }

            currentPlayer = currentPlayer === "X" ? "O" : "X";
            statusText.textContent = `${currentPlayer}-–∏–π–Ω —ç—ç–ª–∂`;
        }

        function updateScore() {
            if (currentPlayer === "X") {
                xScore++;
                xScoreDisplay.textContent = xScore;
            } else {
                oScore++;
                oScoreDisplay.textContent = oScore;
            }

            // –ù–∏–π–ª–±—ç—Ä –¥“Ø–Ω–≥—ç—ç—Ä 3 –æ–Ω–æ–æ –∞–≤—Å–∞–Ω —ç—Å—ç—Ö–∏–π–≥ —à–∞–ª–≥–∞—Ö
            if (xScore === 3 || oScore === 3) {
                statusText.innerHTML = `<span style="color:var(--win-color)">üèÜ ${currentPlayer} –¶–£–í–†–ê–õ–î –Ø–õ–õ–ê–ê! üèÜ</span>`;
                gameActive = false;
                // –¢–æ–≤—á–ª—É—É—Ä—ã–≥ –Ω—É—É—Ö —ç—Å–≤—ç–ª ”©”©—Ä—á–ª”©—Ö
                document.querySelector('.reset-round').style.display = 'none';
            }
        }

        function resetRound() {
            if (xScore === 3 || oScore === 3) return; // –¢–æ–≥–ª–æ–æ–º –¥—É—É—Å—Å–∞–Ω –±–æ–ª –∞–∂–∏–ª–ª–∞—Ö–≥“Ø–π
            gameState = ["", "", "", "", "", "", "", "", ""];
            gameActive = true;
            currentPlayer = "X";
            statusText.textContent = "X-–∏–π–Ω —ç—ç–ª–∂";
            cells.forEach(c => {
                c.textContent = "";
                c.className = "cell";
            });
        }

        function fullReset() {
            xScore = 0;
            oScore = 0;
            xScoreDisplay.textContent = 0;
            oScoreDisplay.textContent = 0;
            document.querySelector('.reset-round').style.display = 'block';
            resetRound();
        }
    </script>
</body>
</html>
